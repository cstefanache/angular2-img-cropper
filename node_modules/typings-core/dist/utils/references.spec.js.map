{"version":3,"file":"references.spec.js","sourceRoot":"","sources":["../../src/utils/references.spec.ts"],"names":[],"mappings":";AAAA,IAAO,IAAI,WAAW,WAAW,CAAC,CAAA;AAClC,qBAAqB,MACrB,CAAC,CAD0B;AAC3B,IAAY,UAAU,WAAM,cAE5B,CAAC,CAFyC;AAE1C,IAAI,CAAC,YAAY,EAAE,UAAA,CAAC;IAClB,CAAC,CAAC,IAAI,CAAC,8BAA8B,EAAE,UAAA,CAAC;QACtC,IAAM,IAAI,GAAG,yFAIhB,CAAA;QAEG,IAAM,MAAM,GAAG,UAAU,CAAC,iBAAiB,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;QAE5D,IAAM,QAAQ,GAAG;YACf;gBACE,KAAK,EAAE,CAAC;gBACR,GAAG,EAAE,EAAE;gBACP,IAAI,EAAE,WAAI,CAAC,SAAS,EAAE,aAAa,CAAC;aACrC;YACD;gBACE,KAAK,EAAE,EAAE;gBACT,GAAG,EAAE,EAAE;gBACP,IAAI,EAAE,WAAI,CAAC,SAAS,EAAE,cAAc,CAAC;aACtC;SACF,CAAA;QAED,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;QAC7B,CAAC,CAAC,GAAG,EAAE,CAAA;IACT,CAAC,CAAC,CAAA;IAEF,CAAC,CAAC,IAAI,CAAC,oCAAoC,EAAE,UAAA,CAAC;QAC5C,IAAM,MAAM,GAAG,UAAU,CAAC,WAAW,CAAC,aAAa,EAAE,SAAS,CAAC,CAAA;QAC/D,IAAM,QAAQ,GAAG,sCAAsC,CAAA;QAEvD,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;QACzB,CAAC,CAAC,GAAG,EAAE,CAAA;IACT,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA","sourcesContent":["import test = require('blue-tape')\nimport { join } from 'path'\nimport * as references from './references'\n\ntest('references', t => {\n  t.test('parse references from string', t => {\n    const file = `\n/// <reference path=\"foobar.d.ts\" />\n\n///\\t<reference\\t path=\"example.d.ts\"/>\n`\n\n    const actual = references.extractReferences(file, __dirname)\n\n    const expected = [\n      {\n        start: 1,\n        end: 38,\n        path: join(__dirname, 'foobar.d.ts')\n      },\n      {\n        start: 39,\n        end: 77,\n        path: join(__dirname, 'example.d.ts')\n      }\n    ]\n\n    t.deepEqual(actual, expected)\n    t.end()\n  })\n\n  t.test('compile a path to reference string', t => {\n    const actual = references.toReference('foobar.d.ts', __dirname)\n    const expected = '/// <reference path=\"foobar.d.ts\" />'\n\n    t.equal(actual, expected)\n    t.end()\n  })\n})\n"]}