{"version":3,"file":"view.js","sourceRoot":"","sources":["../src/view.ts"],"names":[],"mappings":";AAAA,IAAO,OAAO,WAAW,aAAa,CAAC,CAAA;AACvC,qBAAwB,cACxB,CAAC,CADqC;AACtC,mBAA6B,YAC7B,CAAC,CADwC;AACzC,sBAAgD,eAChD,CAAC,CAD8D;AAC/D,mBAAe,YAEf,CAAC,CAF0B;AAI3B,mBAA2B,GAAW,EAAE,OAAoB;IAC1D,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO;QACjB,oEAAI,CAAyC;QACrD,IAAM,IAAI,GAAG,aAAW,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAI,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAG,CAAA;QAE1F,MAAM,CAAC,OAAO,CAAC,iBAAY,CAAC,cAAO,CAAC,YAAE,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAA;IAC7D,CAAC,CAAC,CAAA;AACJ,CAAC;AAPe,iBAAS,YAOxB,CAAA;AAED,sBAA8B,GAAW,EAAE,OAAoB;IAC7D,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO;QACjB,oEAAI,CAAyC;QACrD,IAAI,IAAI,GAAG,aAAW,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAI,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,cAAW,CAAA;QAEjG,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,IAAI,IAAI,MAAI,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAG,CAAA;QAChD,CAAC;QAED,MAAM,CAAC,OAAO,CAAC,iBAAY,CAAC,cAAO,CAAC,YAAE,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAA;IAC7D,CAAC,CAAC,CAAA;AACJ,CAAC;AAXe,oBAAY,eAW3B,CAAA","sourcesContent":["import Promise = require('any-promise')\nimport { joinUrl } from './utils/path'\nimport { readJsonFrom } from './utils/fs'\nimport { expandRegistry, parseDependency } from './utils/parse'\nimport rc from './utils/rc'\n\nexport interface ViewOptions {}\n\nexport function viewEntry (raw: string, options: ViewOptions) {\n  return new Promise((resolve) => {\n    const { meta } = parseDependency(expandRegistry(raw))\n    const path = `entries/${encodeURIComponent(meta.source)}/${encodeURIComponent(meta.name)}`\n\n    return resolve(readJsonFrom(joinUrl(rc.registryURL, path)))\n  })\n}\n\nexport function viewVersions (raw: string, options: ViewOptions) {\n  return new Promise((resolve) => {\n    const { meta } = parseDependency(expandRegistry(raw))\n    let path = `entries/${encodeURIComponent(meta.source)}/${encodeURIComponent(meta.name)}/versions`\n\n    if (meta.version) {\n      path += `/${encodeURIComponent(meta.version)}`\n    }\n\n    return resolve(readJsonFrom(joinUrl(rc.registryURL, path)))\n  })\n}\n"]}