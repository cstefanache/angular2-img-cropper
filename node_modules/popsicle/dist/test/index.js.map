{"version":3,"file":"index.js","sourceRoot":"","sources":["../../lib/test/index.ts"],"names":[],"mappings":"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","sourcesContent":["import test = require('blue-tape')\nimport methods = require('methods')\nimport FormData = require('form-data')\nimport Promise = require('any-promise')\nimport { readFileSync } from 'fs'\nimport { join } from 'path'\nimport * as popsicle from '../common'\n\nconst SHORTHAND_METHODS = [\n  'get',\n  'post',\n  'put',\n  'patch',\n  'del'\n]\n\nconst SUPPORTED_METHODS = typeof window === 'object' ? [\n  'get',\n  'post',\n  'put',\n  'patch',\n  'delete'\n] : methods.filter((method) => method !== 'connect')\n\nconst METHODS_WITHOUT_BODY = ['connect', 'head', 'options']\n\nconst REMOTE_URL = 'http://localhost:' + process.env.PORT\nconst REMOTE_HTTPS_URL = 'https://localhost:' + process.env.HTTPS_PORT\n\nconst EXAMPLE_BODY: any = {\n  username: 'blakeembrey',\n  password: 'hunter2'\n}\n\nconst BOUNDARY_REGEXP = /^multipart\\/form-data; boundary=([^;]+)/\n\nconst MULTIPART_SEP = '\\r\\n'\n\nconst supportsStatusText = parseFloat(process.version.replace(/^v/, '')) >= 0.12\n\ntest('should expose default functions', function (t) {\n  t.equal(typeof popsicle, 'object')\n  t.equal(typeof popsicle.Request, 'function')\n  t.equal(typeof popsicle.Response, 'function')\n  t.equal(typeof popsicle.form, 'function')\n  t.equal(typeof popsicle.jar, 'function')\n\n  SHORTHAND_METHODS.forEach(function (method) {\n    t.equal(typeof (popsicle as any)[method], 'function')\n  })\n\n  t.end()\n})\n\ntest('throw an error when no options are provided', function (t) {\n  t.throws(() => popsicle.request({} as any), /url must be a string/i)\n  t.end()\n})\n\ntest('create a popsicle#Request instance', function (t) {\n  const req = popsicle.request('/')\n\n  t.ok(req instanceof popsicle.Request)\n\n  // Ignore connection error.\n  return req.then(null, function () {})\n})\n\ntest('use the same response in promise chains', function (t) {\n  const req = popsicle.get(REMOTE_URL + '/echo')\n\n  t.plan(14)\n\n  return req\n    .then(function (res) {\n      t.ok(res instanceof popsicle.Response)\n      t.equal(req.response, res)\n\n      // Not all browsers support `responseURL`.\n      t.ok(typeof res.url === 'string' || res.url == null)\n      t.ok(Array.isArray(res.rawHeaders))\n\n      t.equal(typeof res.headers, 'object')\n      t.equal(typeof res.status, 'number')\n\n      t.equal(typeof res.get, 'function')\n      t.equal(typeof res.name, 'function')\n      t.equal(typeof res.type, 'function')\n      t.equal(typeof res.statusType, 'function')\n      t.equal(typeof res.toJSON, 'function')\n\n      t.deepEqual(Object.keys(req.toJSON()), ['url', 'method', 'headers', 'body', 'timeout', 'response'])\n      t.deepEqual(Object.keys(res.toJSON()), ['url', 'headers', 'body', 'status', 'statusText'])\n\n      return req\n        .then(function (res2) {\n          t.equal(res, res2)\n        })\n    })\n})\n\ntest('clone a request instance', function (t) {\n  const req = popsicle.get(REMOTE_URL + '/echo/header/x-example')\n\n  req.use(function (self, next) {\n    self.set('X-Example', 'foobar')\n    return next()\n  })\n\n  return Promise.all([req, req.clone()])\n    .then(function (res) {\n      t.notEqual(res[0], res[1])\n\n      t.equal(res[0].body, 'foobar')\n      t.equal(res[0].body, res[1].body)\n    })\n})\n\ntest('methods', function (t) {\n  t.test('use node-style callbacks', function (t) {\n    t.plan(1)\n\n    return popsicle.request(REMOTE_URL + '/echo')\n      .exec(function (err, res) {\n        t.ok(res instanceof popsicle.Response)\n        t.end()\n      })\n  })\n\n  t.test('allow methods to be passed in', function (t) {\n    return Promise.all(SUPPORTED_METHODS.map(function (method) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo/method',\n        method: method\n      })\n        .then(function (res) {\n          t.equal(res.status, 200)\n          t.equal(res.body, METHODS_WITHOUT_BODY.indexOf(method) === -1 ? method.toUpperCase() : '')\n        })\n    }))\n  })\n})\n\ntest('allow usage of method shorthands', function (t) {\n  return Promise.all(SHORTHAND_METHODS.map(function (method) {\n      return (popsicle as any)[method](REMOTE_URL + '/echo/method')\n        .then(function (res: any) {\n          t.equal(res.status, 200)\n          t.equal(res.body, method === 'del' ? 'DELETE' : method.toUpperCase())\n        })\n  }))\n})\n\ntest('response status', function (t) {\n  t.test('5xx', function (t) {\n    return popsicle.request(REMOTE_URL + '/error')\n      .then(function (res) {\n        t.equal(res.status, 500)\n        t.equal(res.statusType(), 5)\n\n        if (supportsStatusText) {\n          t.equal(res.statusText, 'Internal Server Error')\n        }\n      })\n  })\n\n  t.test('4xx', function (t) {\n    return popsicle.request(REMOTE_URL + '/not-found')\n      .then(function (res) {\n        t.equal(res.status, 404)\n        t.equal(res.statusType(), 4)\n\n        if (supportsStatusText) {\n          t.equal(res.statusText, 'Not Found')\n        }\n      })\n  })\n\n  t.test('2xx', function (t) {\n    return popsicle.request(REMOTE_URL + '/no-content')\n      .then(function (res) {\n        t.equal(res.status, 204)\n        t.equal(res.statusType(), 2)\n\n        if (supportsStatusText) {\n          t.equal(res.statusText, 'No Content')\n        }\n      })\n  })\n})\n\ntest('request headers', function (t) {\n  t.test('always send user agent', function (t) {\n    return popsicle.request(REMOTE_URL + '/echo/header/user-agent')\n      .then(function (res) {\n        const regexp = process.browser ?\n          /^Mozilla\\/.+$/ :\n          /^https:\\/\\/github\\.com\\/blakeembrey\\/popsicle$/\n\n        t.ok(regexp.test(res.body))\n      })\n  })\n\n  if (!process.browser) {\n    t.test('send a custom user agent header', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo/header/user-agent',\n        headers: {\n          'User-Agent': 'foobar'\n        }\n      })\n        .then(function (res) {\n          t.equal(res.body, 'foobar')\n        })\n    })\n\n    // Run raw header tests on Node 0.12+.\n    if (!/^v0\\.10/.test(process.version)) {\n      t.test('case sensitive headers', function (t) {\n        return popsicle.get({\n          url: REMOTE_URL + '/raw-headers',\n          headers: {\n            'Raw-Header': 'test'\n          }\n        })\n          .then(function (res) {\n            t.ok(res.body.indexOf('Raw-Header') > -1, 'raw headers sent with original casing')\n          })\n      })\n    }\n  }\n})\n\ntest('response headers', function (t) {\n  t.test('parse', function (t) {\n    return popsicle.request(REMOTE_URL + '/notfound')\n      .then(function (res) {\n        t.equal(res.type(), 'text/html')\n        t.equal(res.get('Content-Type'), 'text/html; charset=utf-8')\n      })\n  })\n})\n\ntest('request body', function (t) {\n  t.test('send post data', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: 'example data',\n      headers: {\n        'content-type': 'application/octet-stream'\n      }\n    })\n      .then(function (res) {\n        t.equal(res.body, 'example data')\n        t.equal(res.status, 200)\n        t.equal(res.type(), 'application/octet-stream')\n\n        if (supportsStatusText) {\n          t.equal(res.statusText, 'OK')\n        }\n      })\n  })\n\n  t.test('should automatically send objects as json', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: EXAMPLE_BODY\n    })\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        t.deepEqual(res.body, EXAMPLE_BODY)\n        t.equal(res.type(), 'application/json')\n      })\n  })\n\n  t.test('should send as form encoded when header is set', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: EXAMPLE_BODY,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n      .use(popsicle.plugins.parse('urlencoded'))\n      .then(function (res) {\n        t.deepEqual(res.body, EXAMPLE_BODY)\n        t.equal(res.type(), 'application/x-www-form-urlencoded')\n      })\n  })\n\n  t.test('host objects', function (t) {\n    t.test('form data', function (t) {\n      function validateResponse (res: any) {\n        const boundary = BOUNDARY_REGEXP.exec(res.headers['content-type'])[1]\n\n        let body = [\n          '--' + boundary,\n          'Content-Disposition: form-data; name=\"username\"',\n          '',\n          EXAMPLE_BODY.username,\n          '--' + boundary,\n          'Content-Disposition: form-data; name=\"password\"',\n          '',\n          EXAMPLE_BODY.password,\n          '--' + boundary + '--'\n        ].join(MULTIPART_SEP) + MULTIPART_SEP\n\n        t.equal(res.body, body)\n      }\n\n      t.test('should create form data instance', function (t) {\n        const form = popsicle.form(EXAMPLE_BODY)\n\n        t.ok(form instanceof FormData)\n\n        return popsicle.request({\n          url: REMOTE_URL + '/echo',\n          method: 'POST',\n          body: form\n        }).then(validateResponse)\n      })\n\n      t.test('should stringify to form data when set as multipart', function (t) {\n        return popsicle.request({\n          url: REMOTE_URL + '/echo',\n          method: 'POST',\n          body: EXAMPLE_BODY,\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(validateResponse)\n      })\n    })\n  })\n})\n\ntest('query', function (t) {\n  t.test('should stringify and send query parameters', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo/query',\n      query: EXAMPLE_BODY\n    })\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        t.deepEqual(res.body, EXAMPLE_BODY)\n      })\n  })\n\n  t.test('should stringify and append to query object', function (t) {\n    const req = popsicle.request({\n      url: REMOTE_URL + '/echo/query?query=true',\n      query: EXAMPLE_BODY\n    })\n\n    const query = {\n      query: 'true',\n      username: 'blakeembrey',\n      password: 'hunter2'\n    }\n\n    const fullUrl = REMOTE_URL + '/echo/query?query=true&username=blakeembrey&password=hunter2'\n\n    t.equal(req.url, fullUrl)\n    t.deepEqual(req.query, query)\n\n    return req\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        if (typeof window === 'undefined') {\n          t.equal(res.url, fullUrl)\n        }\n\n        t.deepEqual(res.body, query)\n      })\n  })\n\n  t.test('should accept query as a string', function (t) {\n    const req = popsicle.request({\n      url: REMOTE_URL + '/echo/query',\n      query: 'query=true'\n    })\n\n    t.equal(req.url, REMOTE_URL + '/echo/query?query=true')\n    t.deepEqual(req.query, { query: 'true' })\n\n    return req\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        t.deepEqual(res.body, { query: 'true' })\n      })\n  })\n})\n\ntest('timeout', function (t) {\n  t.test('should timeout the request when set', function (t) {\n    t.plan(3)\n\n    return popsicle.request({\n      url: REMOTE_URL + '/delay/1500',\n      timeout: 500\n    })\n      .catch(function (err) {\n        t.equal(err.message, 'Timeout of 500ms exceeded')\n        t.equal(err.code, 'ETIMEOUT')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n})\n\ntest('abort', function (t) {\n  t.test('abort before it starts', function (t) {\n    const req = popsicle.request(REMOTE_URL + '/echo')\n\n    req.abort()\n\n    t.plan(3)\n\n    return req\n      .catch(function (err) {\n        t.equal(err.message, 'Request aborted')\n        t.equal(err.code, 'EABORT')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n\n  t.test('abort mid-request', function (t) {\n    const req = popsicle.request(REMOTE_URL + '/download')\n\n    t.plan(1)\n\n    setTimeout(function () {\n      req.abort()\n    }, 100)\n\n    return req\n      .catch(function (err) {\n        t.equal(err.code, 'EABORT')\n      })\n  })\n\n  t.test('no side effects of aborting twice', function (t) {\n    const req = popsicle.request(REMOTE_URL + '/download')\n\n    t.plan(3)\n\n    req.abort()\n    req.abort()\n\n    return req\n      .catch(function (err) {\n        t.equal(err.message, 'Request aborted')\n        t.equal(err.code, 'EABORT')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n})\n\ntest('progress', function (t) {\n  t.test('download', function (t) {\n    t.test('download progress', function (t) {\n      const req = popsicle.request(REMOTE_URL + '/download')\n\n      t.plan(typeof window === 'undefined' ? 3 : 2)\n\n      // Before the request has started.\n      t.equal(req.downloaded, 0)\n\n      // Check halfway into the response.\n      if (typeof window === 'undefined') {\n        setTimeout(function () {\n          t.equal(req.downloaded, 0.5)\n        }, 100)\n      }\n\n      return req\n        .then(function () {\n          t.equal(req.downloaded, 1)\n        })\n    })\n  })\n\n  t.test('event', function (t) {\n    t.test('emit progress events', function (t) {\n      const req = popsicle.request({\n        url: REMOTE_URL + '/echo',\n        body: EXAMPLE_BODY,\n        method: 'POST'\n      })\n\n      t.plan(3)\n\n      let asserted = 0\n      let expected = 0\n\n      req.progress(function (e) {\n        expected += 0.5\n\n        t.equal(e.completed, expected)\n      })\n\n      return req\n        .use(popsicle.plugins.parse('json'))\n        .then(function (res) {\n          t.deepEqual(res.body, EXAMPLE_BODY)\n        })\n    })\n\n    t.test('error when the progress callback errors', function (t) {\n      const req = popsicle.request(REMOTE_URL + '/echo')\n\n      t.plan(2)\n\n      req.progress(function () {\n        throw new Error('Testing')\n      })\n\n      return req\n        .catch(function (err) {\n          t.equal(err.message, 'Testing')\n          t.notOk(err.popsicle, 'popsicle should not be set')\n        })\n    })\n  })\n})\n\ntest('response body', function (t) {\n  t.test('parse json responses', function (t) {\n    return popsicle.request(REMOTE_URL + '/json')\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        t.equal(res.type(), 'application/json')\n        t.deepEqual(res.body, { username: 'blakeembrey' })\n      })\n  })\n\n  t.test('parse form encoded responses', function (t) {\n    return popsicle.request(REMOTE_URL + '/foo')\n      .use(popsicle.plugins.parse('urlencoded'))\n      .then(function (res) {\n        t.equal(res.type(), 'application/x-www-form-urlencoded')\n        t.deepEqual(res.body, { foo: 'bar' })\n      })\n  })\n\n  t.test('string response by default', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/json'\n    })\n      .then(function (res) {\n        t.equal(res.type(), 'application/json')\n        t.equal(res.body, '{\"username\":\"blakeembrey\"}')\n      })\n  })\n\n  t.test('empty response bodies', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'post'\n    })\n      .then(function (res) {\n        t.equal(res.body, '')\n      })\n  })\n\n  t.test('empty response body with json', function (t) {\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .use(popsicle.plugins.parse('json'))\n      .then(function (res) {\n        t.equal(res.body, null)\n        t.equal(res.type(), 'application/json')\n      })\n  })\n\n  t.test('throw on unsupported type', function (t) {\n    t.plan(2)\n\n    return popsicle.request({\n      url: REMOTE_URL + '/text',\n      transport: popsicle.createTransport({ type: 'foobar' })\n    })\n      .catch(function (err) {\n        t.equal(err.message, 'Unsupported type: foobar')\n        t.equal(err.code, 'ETYPE')\n      })\n  })\n\n  if (!process.browser) {\n    const fs = require('fs')\n    const concat = require('concat-stream')\n    const filename = require('path').join(__dirname, '../../scripts/server.js')\n    const filecontents = fs.readFileSync(filename, 'utf-8')\n\n    t.test('stream the response body', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/json',\n        transport: popsicle.createTransport({ type: 'stream' })\n      })\n        .then(function (res) {\n          t.equal(typeof res.body, 'object')\n\n          return new Promise(function (resolve) {\n            res.body.pipe(concat(function (data: Buffer) {\n              t.equal(data.toString(), '{\"username\":\"blakeembrey\"}')\n\n              return resolve()\n            }))\n          })\n        })\n    })\n\n    t.test('should break when response body is bigger than buffer size', function (t) {\n      t.plan(1)\n\n      return popsicle.request(REMOTE_URL + '/urandom')\n        .catch(function (err) {\n          t.equal(err.code, 'ETOOLARGE')\n        })\n    })\n\n    t.test('pipe streams', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo',\n        body: fs.createReadStream(filename)\n      })\n        .then(function (res) {\n          t.equal(res.body, filecontents)\n        })\n    })\n\n    t.test('pipe streams into forms', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo',\n        body: popsicle.form({\n          file: fs.createReadStream(filename)\n        })\n      })\n        .then(function (res) {\n          const boundary = BOUNDARY_REGEXP.exec(<string> res.headers['content-type'])[1]\n\n          t.equal(res.body, [\n            '--' + boundary,\n            'Content-Disposition: form-data; name=\"file\"; filename=\"server.js\"',\n            'Content-Type: application/javascript',\n            '',\n            filecontents,\n            '--' + boundary + '--'\n          ].join(MULTIPART_SEP) + MULTIPART_SEP)\n        })\n    })\n\n    t.test('unzip contents', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo/zip',\n        body: fs.createReadStream(filename)\n      })\n        .then(function (res) {\n          t.equal(res.get('Content-Encoding'), 'deflate')\n          t.equal(res.body, filecontents)\n        })\n    })\n\n    t.test('unzip with gzip encoding', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/echo/zip',\n        body: fs.createReadStream(filename),\n        headers: {\n          'Accept-Encoding': 'gzip'\n        }\n      })\n        .then(function (res) {\n          t.equal(res.get('Content-Encoding'), 'gzip')\n          t.equal(res.body, filecontents)\n        })\n    })\n  } else {\n    t.test('browser response type', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/text',\n        transport: popsicle.createTransport({ type: 'arraybuffer' })\n      })\n        .then(function (res) {\n          t.ok(res.body instanceof ArrayBuffer)\n        })\n    })\n  }\n})\n\ntest('request errors', function (t) {\n  t.test('error when requesting an unknown domain', function (t) {\n    t.plan(3)\n\n    return popsicle.request('http://fdahkfjhuehfakjbvdahjfds.fdsa')\n      .catch(function (err) {\n        t.ok(/Unable to connect/i.exec(err.message))\n        t.equal(err.code, 'EUNAVAILABLE')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n\n  t.test('give a parse error on invalid json response', function (t) {\n    t.plan(3)\n\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: 'username=blakeembrey&password=hunter2',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .use(popsicle.plugins.parse('json'))\n      .catch(function (err) {\n        t.ok(/Unable to parse response body/i.test(err.message))\n        t.equal(err.code, 'EPARSE')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n\n  t.test('give a parse error on invalid response type', function (t) {\n    t.plan(3)\n\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: 'hello world',\n      headers: {\n        'Content-Type': 'foo/bar'\n      }\n    })\n      .use(popsicle.plugins.parse('json'))\n      .catch(function (err) {\n        t.equal(err.message, 'Unhandled response type: foo/bar')\n        t.equal(err.code, 'EPARSE')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n\n  t.test('give a stringify error on invalid request body', function (t) {\n    const obj: any = {}\n\n    t.plan(3)\n\n    // Recursive link will fail to stringify.\n    obj.obj = obj\n\n    return popsicle.request({\n      url: REMOTE_URL + '/echo',\n      method: 'POST',\n      body: obj\n    })\n      .catch(function (err) {\n        t.ok(/Unable to stringify request body/i.test(err.message))\n        t.equal(err.code, 'ESTRINGIFY')\n        t.ok(err.popsicle instanceof popsicle.Request)\n      })\n  })\n})\n\ntest('plugins', function (t) {\n  t.test('modify the request', function (t) {\n    const req = popsicle.request(REMOTE_URL + '/echo')\n\n    t.plan(1)\n\n    req.use(function (self, next) {\n      t.equal(self, req)\n      return next()\n    })\n\n    return req\n  })\n})\n\ntest('request flow', function (t) {\n  t.test('before', function (t) {\n    t.test('run a function before opening the request', function (t) {\n      const req = popsicle.request(REMOTE_URL + '/echo')\n\n      t.plan(2)\n\n      req.use(function (self, next) {\n        t.equal(self, req)\n        t.equal(typeof next, 'function')\n        return next()\n      })\n\n      return req\n    })\n\n    t.test('fail the request before starting', function (t) {\n      const req = popsicle.request(REMOTE_URL + '/echo')\n\n      t.plan(1)\n\n      req.use(function (): any {\n        throw new Error('Hello world!')\n      })\n\n      return req\n        .catch(function (err) {\n          t.equal(err.message, 'Hello world!')\n        })\n    })\n\n    t.test('accept a promise to delay the request', function (t) {\n      const req = popsicle.request({\n        url: REMOTE_URL + '/echo',\n        method: 'POST',\n        body: 'success'\n      })\n\n      t.plan(2)\n\n      req.use(function (self, next) {\n        return new Promise(function (resolve) {\n          setTimeout(function () {\n            t.equal(self, req)\n            resolve()\n          }, 10)\n        }).then(next)\n      })\n\n      return req\n        .then(res => {\n          t.equal(res.body, 'success')\n        })\n    })\n  })\n\n  test('after', function (t) {\n    t.test('run after the response', function (t) {\n      const req = popsicle.request(REMOTE_URL + '/echo')\n\n      t.plan(1)\n\n      req.use(function (self, next) {\n        return next()\n          .then(res => {\n            t.ok(res instanceof popsicle.Response)\n\n            return res\n          })\n      })\n\n      return req\n    })\n  })\n})\n\nif (!process.browser) {\n  test('cookie jar', function (t) {\n    t.test('should work with a cookie jar', function (t) {\n      let cookie: string\n\n      const instance = popsicle.defaults({\n        transport: popsicle.createTransport({\n          jar: popsicle.jar()\n        })\n      })\n\n      return instance(REMOTE_URL + '/cookie')\n        .then(function (res) {\n          t.notOk(res.get('Cookie'))\n          t.ok(res.get('Set-Cookie'))\n\n          cookie = res.get('Set-Cookie')\n\n          return instance(REMOTE_URL + '/echo')\n        })\n        .then(function (res) {\n          t.equal(res.get('Cookie').toLowerCase(), cookie.toLowerCase())\n          t.notOk(res.get('Set-Cookie'))\n        })\n    })\n\n    t.test('should update over redirects', function (t) {\n      const instance = popsicle.defaults({\n        transport: popsicle.createTransport({\n          jar: popsicle.jar()\n        })\n      })\n\n      return instance(REMOTE_URL + '/cookie/redirect')\n        .then(function (res) {\n          t.ok(/^new=cookie/.test(res.body))\n        })\n    })\n  })\n}\n\ntest('override request mechanism', function (t) {\n  return popsicle.request({\n    url: '/foo',\n    transport: {\n      open: function (request) {\n        return Promise.resolve({\n          url: '/foo',\n          body: 'testing',\n          headers: <any> {},\n          status: 200,\n          statusText: 'OK'\n        })\n      }\n    }\n  })\n    .then(function (res) {\n      t.equal(res.body, 'testing')\n    })\n})\n\nif (!process.browser) {\n  test('redirect', function (t) {\n    t.test('should follow 302 redirect with get', function (t) {\n      return popsicle.request(REMOTE_URL + '/redirect')\n        .then(function (res) {\n          t.equal(res.body, 'welcome get')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n\n    t.test('should follow 301 redirect with post', function (t) {\n      return popsicle.post(REMOTE_URL + '/redirect/code/301')\n        .then(function (res) {\n          t.equal(res.body, 'welcome get')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n\n    t.test('should follow 303 redirect with post', function (t) {\n      return popsicle.post({\n        url: REMOTE_URL + '/redirect/code/303',\n        body: { foo: 'bar' }\n      })\n        .then(function (res) {\n          t.equal(res.body, 'welcome get')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n\n    t.test('disable following redirects', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/redirect',\n        transport: popsicle.createTransport({\n          followRedirects: false\n        })\n      })\n        .then(function (res) {\n          t.equal(res.status, 302)\n          t.ok(/\\/redirect$/.test(res.url))\n        })\n    })\n\n    t.test('default maximum redirects of 5', function (t) {\n      t.plan(2)\n\n      return popsicle.request(REMOTE_URL + '/redirect/6')\n        .catch(function (err) {\n          t.equal(err.message, 'Exceeded maximum of 5 redirects')\n          t.equal(err.code, 'EMAXREDIRECTS')\n        })\n    })\n\n    t.test('change maximum redirects', function (t) {\n      return popsicle.request({\n        url: REMOTE_URL + '/redirect/6',\n        transport: popsicle.createTransport({\n          maxRedirects: 10\n        })\n      })\n        .then(function (res) {\n          t.equal(res.body, 'welcome get')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n\n    t.test('support head redirects with 307', function (t) {\n      return popsicle.head(REMOTE_URL + '/redirect/code/307')\n        .then(function (res) {\n          t.equal(res.body, '')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n\n    t.test('block 307/308 redirects by default', function (t) {\n      return popsicle.post(REMOTE_URL + '/redirect/code/307')\n        .then(function (res) {\n          t.equal(res.status, 307)\n          t.ok(/\\/redirect\\/code\\/307$/.test(res.url))\n        })\n    })\n\n    t.test('support user confirmed redirects with 308', function (t) {\n      return popsicle.post({\n        url: REMOTE_URL + '/redirect/code/308',\n        transport: popsicle.createTransport({\n          confirmRedirect () {\n            return true\n          }\n        })\n      })\n        .then(function (res) {\n          t.equal(res.body, 'welcome post')\n          t.equal(res.status, 200)\n          t.ok(/\\/destination$/.test(res.url))\n        })\n    })\n  })\n}\n\nif (!process.browser) {\n  test('https reject unauthorized', function (t) {\n    t.plan(1)\n\n    return popsicle.get({\n      url: `${REMOTE_HTTPS_URL}`\n    })\n      .catch(err => {\n        t.equal(err.code, 'EUNAVAILABLE')\n      })\n  })\n\n  test('https ca option', function (t) {\n    return popsicle.get({\n      url: `${REMOTE_HTTPS_URL}`,\n      transport: popsicle.createTransport({\n        ca: readFileSync(join(__dirname, '../../scripts/support/ca-crt.pem'))\n      })\n    })\n      .then(res => {\n        t.equal(res.body, 'Success')\n      })\n  })\n\n  test('https disable reject unauthorized', function (t) {\n    return popsicle.get({\n      url: `${REMOTE_HTTPS_URL}`,\n      transport: popsicle.createTransport({\n        rejectUnauthorized: false\n      })\n    })\n      .then(res => {\n        t.equal(res.body, 'Success')\n      })\n  })\n}\n"]}